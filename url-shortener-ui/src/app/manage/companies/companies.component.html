<div class="container mt-4">
  <h3>Firmalar</h3>
  <hr>

  <div *ngIf="isLoading" class="d-flex justify-content-center my-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Yükleniyor...</span>
    </div>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="!isLoading && !errorMessage">
    <div *ngIf="companies.length > 0; else noCompanies">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Firma Adı</th>
            <th>Oluşturulma</th>
            <th>Token Sayısı</th>
            <th>URL Sayısı</th>
            <th>İşlemler</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let company of companies">
            <td>{{ company.id }}</td>
            <td>{{ company.name }}</td>
            <td>{{ getLocalTime(company.createdAt) }}</td>
            <td>{{ company.tokens?.length || 0 }}</td>
            <td>{{ company.urls?.length || 0 }}</td>
            <td>
              <button class="btn btn-sm btn-outline-primary me-2" [routerLink]="['/manage/company-details', company.id]" title="Detaylar">
                <i class="fas fa-eye"></i> Detay
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <ng-template #noCompanies>
      <div class="alert alert-info text-center">Gösterilecek firma bulunamadı. <a routerLink="../add-company">Yeni firma ekleyin</a>.</div>
    </ng-template>
  </div>

</div> 